<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
  <head>
   <meta http-equiv="content-type" content="text/html; charset=windows-1250">
   <meta name="generator" content="PSPad editor, www.pspad.com">
   <link rel="stylesheet" type="text/css" href="../style.css">
   <title>36PAA - ulohy (Michal Trs)</title>
</head>
<body>
   <h1>36PAA - Probl�m k�bl�</h1>

   <div id="main">
      <h2>Zad�n�</h2>
      <p>
         Navrhn�te a implementujte heuristiku �e��c� zobecn�n� probl�m dvou k�bl�.
         Heuristiku otestujte na v�ech n�sleduj�c�ch p��kladech a srovnejte
         s prohled�v�n�m stavov�ho prostoru do ���ky (BFS).
         Voliteln� srovnejte i s prohled�v�n�m do hloubky (DFS).
         Zvolenou heuristiku popi�te ve zpr�v�.
      </p>

      <h2>Definice probl�mu</h2>
      <p>
         K dispozici jsou dva k�ble (p�edem dan�ch obecn� rozd�ln�ch objem�), vodovodn� kohoutek a kan�l. Na po��tku jsou oba k�ble pr�zdn�. Va��m �kolem je doc�lit toho, aby v jednom k�blu byla voda o p�edem stanoven�m objemu, p�i�em� m��ete pouze naplnit pln� k�bl z kohoutku, vyl�t cel� k�bl do kan�lu a p�el�t jeden k�bl do druh�ho tak, aby druh� k�bl nep�etekl.
         Probl�m lze zobecnit t�m, �e p�ipust�me u�it� v�t��ho po�tu k�bl�, aby na po��tku �e�en� byla v k�blech n�jak� voda, a �e p�edep�eme koncov� objem vody v ka�d�m k�blu.
      </p>

      <h2>Implementace</h2>
      <p>
         �lohu jsem implementoval v Jazyce C# jako konzolovou aplikaci. Vstupn�
         data jsou sou��st� k�du a v�sledky jsou vypisov�ny na standardn�
         v�stup. Z�kladem �e�en� je m�rn� modifikovan� BFS algoritmus. M�sto
         fronty CLOSE jsem pou�il mapu do kter� ukl�d�m ve�ker� stavy. Kl��em do
         mapy je Hash, kter� je roven obsahu v�ech k�bl� (pro 1 k�bl sta�� 6b,
         m�me 5 k�bl�, tj. sta�� 30b, tj. int). V�hodou tohoto �e�en� (inspirace
         od Augiho) je jeho rychlost a bezkonfliktnost. V p��pad� heuristiky
         jsem nahradil frontu OPEN prioritn� frontou. Priorita je rovna sou�tu
         absolutn�ch hodnot rozd�lu sou�asn�ho a koncov�ho stavu p�es v�echny
         k�ble. Tj. ��m men�� ��slo, t�m v�t�� p�ednost.
      </p>
      
      <h3>BFS</h3>
      <ul>
         <li><a href="source/BFS/BFS.cs">BFS.cs</a> - V metod� compute je implementov�n vlastn� v�po�et. While cykl dokud nen� fronta OPEN pr�zdn� vyb�r� z n� stavy a expanduj je (pln�, vyl�v� a p�el�v� k�ble). Ka�d� nov� objeven� stav je vlo�en do mapy STATES. Nov� expandovan� stav je vlo�en do OPEN pouze pokud nen� nalezeno �e�en�, nebo expandovan� stav m��e zlep�it �e�en�.</li>
         <li><a href="source/BFS/Input.cs">Input.cs</a> - Obsahuje pouze zad�n� (tj.: kapacity, po��te�n� a koncov� stav), pou�ita jako parametr konstruktoru t��dy BFS.</li>
         <li><a href="source/BFS/Program.cs">Program.cs</a> - Zavol� BFS pro ka�dou instanci a vyp�e v�sledek.</li>
         <li><a href="source/BFS/State.cs">State.cs</a> - Reprezentuje stav stavov�ho prostoru, uchov�v� aktu�ln� stav k�bl�, ukazatel na p�ede�l� stav a d�lku cesty.</li>
      </ul>
      
      <h3>Heuristika</h3>
      <ul>
         <li><a href="source/Heuristika/Heuristic.cs">Heuristic.cs</a> - Z�klad je stejn� jako u BFS. Nav�c je pro ka�d� nov� stav vypo�tena Priorita (minim�ln� cesta vedouc� k c�li - sou�et absolutn�ch hodnot rozd�lu sou�asn�ho a koncov�ho stavu) a stav je vlo�en do prioritn� fronty.</li>
         <li><a href="source/Heuristika/Input.cs">Input.cs</a> - viz. Input z BFS.</li>
         <li><a href="source/Heuristika/Program.cs">Program.cs</a> - viz Program z BFS.</li>
         <li><a href="source/Heuristika/PQ.cs">PQ.cs</a> - Prioritn� fronta. Implementov�na jako pole Front, kde rozm�r pole je d�n maxim�ln� hodnotou priority. Je to jednoduch� �e�en� a v tomto p��pad� posta�uj�c�.</li>
         <li><a href="source/Heuristika/State.cs">State.cs</a> - viz. State z BFS + p�id�na metoda Priority().</li>
      </ul>

      <h2>Nam��en� hodnoty a v�sledky</h2>
      <p>M��il jsem na NTB s procesorem Centino 1.4GHz, nastaven� max Performance p�i nap�jen� z adapt�ru. Pou�it� OS: Windows XP SP2 s .net Framework 2.</p>

      <h3>Tabulka v�sledk� m��en�</h3>

      <table>
         <tr><th rowspan="2">Instance</th><th colspan="2">BFS</th><th colspan="3">Heuristika</th></tr>
         <tr><th>Po�et operac�</th><th>Nav�t�ven� stavy</th><th>Po�et operac�</th><th>Nav�t�ven� stavy</th><th>Generovan� stavy</th></tr>
         <tr><td>1.1</td><td>10</td><td>8991</td><td>20</td><td>80</td><td>732</td></tr>
         <tr><td>1.2</td><td>8</td><td>7988</td><td>17</td><td>544</td><td>1724</tr>
         <tr><td>1.3</td><td>8</td><td>7895</td><td>8</td><td>12</td><td>121</tr>
         <tr><td>1.4</td><td>3</td><td>155</td><td>4</td><td>5</td><td>121</tr>
         <tr><td>2.1</td><td>16</td><td>49349</td><td>34</td><td>7050</td><td>25496</tr>
         <tr><td>2.2</td><td>12</td><td>41668</td><td>40</td><td>9550</td><td>28547</tr>
         <tr><td>2.3</td><td>11</td><td>35749</td><td>28</td><td>5745</td><td>20263</tr>
         <tr><td>2.4</td><td>5</td><td>871</td><td>12</td><td>448</td><td>1975</tr>
         <tr><td>2.5</td><td>7</td><td>6323</td><td>19</td><td>766</td><td>2762</tr>
         <tr><td>3.1</td><td>14</td><td>59199</td><td>36</td><td>1367</td><td>4349</tr>
         <tr><td>3.2</td><td>12</td><td>58771</td><td>24</td><td>370</td><td>3755</tr>
         <tr><td>3.3</td><td>10</td><td>40907</td><td>32</td><td>300</td><td>2290</tr>
         <tr><td>3.4</td><td>5</td><td>1460</td><td>12</td><td>39</td><td>359</tr>
         <tr><td>3.5</td><td>7</td><td>9154</td><td>10</td><td>31</td><td>327</tr>
         <tr><td>3.6</td><td>9</td><td>27772</td><td>26</td><td>1197</td><td>8178</tr>
      </table>
      
      <h3>V�pisy programu:</h3>
      <ul>
         <li><a href="BFS.txt">BFS.txt</a></li>
         <li><a href="heuristika.txt">heuristika.txt</a></li>
      </ul>

      <h3>Graf: D�lka cesty k �e�en� (po�et manipulac� s k�bly)</h3>
      <p><img src="grafy/path.png" alt="d�lka cesty k �e�en�"/></p>

      <h3>Graf: Po�et stav� stavov�ho prostoru</h3>
      <p><img src="grafy/states.png" alt="po�et stav�"/></p>
      
      <h3>Graf: Heuristika - srovn�n� po�tu generovan�ch a nav�t�ven�ch stav�</h3>
      <p><img src="grafy/heuristika-states.png" alt="heuristika - po�et stav�"/></p>


      <h2>Z�v�r</h2>
      <p>
         Zadan� instance jsou p�ijateln� rychle �e�iteln� pomoc� BFS s o�ez�v�n�m neperspektivn�ch stav�.
         Heuristika zalo�en� na minimalizaci vzd�lenosti k v�sledku d�v� velice dobr� v�sledky. V pr�m�ru
         bylo vygenerov�no 102,5x m�n� stav�, p�i�em� cesta se pr�m�rn� prodlou�ila 2,3x. Maxim�ln� se
         cesta prodlou�ila 3,3x a v nejlep��m p��pad� bylo vygenerov�no 650x m�n� stav�.
      </p>


   </div>


<script src="/archive/lightbox.js"></script>
</body>
</html>
