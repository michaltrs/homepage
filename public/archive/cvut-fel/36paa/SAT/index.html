<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
  <head>
   <meta http-equiv="content-type" content="text/html; charset=windows-1250">
   <meta name="generator" content="PSPad editor, www.pspad.com">
   <link rel="stylesheet" type="text/css" href="../style.css">
   <title>36PAA - ulohy (Michal Trs)</title>
</head>
<body>
   <h1>36PAA - Probl�m v�en� splnitelnosti booleovsk� formule - simulovan� ochlazov�n�</h1>

   <div id="main">
      <h2>Zad�n�</h2>
      <p>
         Je d�na booleovsk� formule <span
         style="font-style: italic;">F</span> prom�nn�ch <span
         style="font-style: italic;">X</span>=(<span style="font-style: italic;">x</span><sub>1</sub>,

         <span style="font-style: italic;">x</span><sub>2</sub>, ... , <span
         style="font-style: italic;">x<sub>n</sub></span>) v
         konjunktivn� norm�ln� form� (tj. sou�in sou�t�).
         D�le jsou d�ny celo��seln� kladn�
         v�hy <span style="font-style: italic;">W</span>=(<span
         style="font-style: italic;">w</span><sub>1</sub>, <span
         style="font-style: italic;">w</span><sub>2</sub>, ... , <span
         style="font-style: italic;">w<sub>n</sub></span>).&nbsp; Najd�te
         ohodnocen� <span style="font-style: italic;">Y</span>=(<span
         style="font-style: italic;">y</span><sub>1</sub>, <span
         style="font-style: italic;">y</span><sub>2</sub>, ... , <span
         style="font-style: italic;">y<sub>n</sub></span>) prom�nn�ch <span
         style="font-style: italic;">x</span><sub>1</sub>, <span
         style="font-style: italic;">x</span><sub>2</sub>, ... , <span
         style="font-style: italic;">x<sub>n </sub></span>tak, aby <span
         style="font-style: italic;">F</span>(<span style="font-style: italic;">Y</span>)=1
         a sou�et vah prom�nn�ch, kter� jsou ohodnoceny
         jedni�kou,&nbsp; byl maxim�ln�. <br>

         <br>
         <b>Je p��pustn� se omezit na formule, v nich� m�
         ka�d� formule pr�v� 3 liter�ly (probl�m 3
         SAT).</b> Takto
         omezen� probl�m je stejn� t�k�, ale mo�n�
         se l�pe programuje a l�pe se posuzuje obt�nost
         instance (viz Selmanova prezentace v odkazech).
      </p>

      
      <h2>Popis algoritmu</h2>
         <p>
         Z pokro�il�ch iterativn�ch metod jsem si vybral algoritmus simulovan� ochlazov�n�.
         Je pops�n "v�vojov�mi diagramy" na n�sleduj�c�ch obr�zc�ch.
         </p>

         <table><tr>
            <td><img src="algoritmus/simanel.png"/></td>
            <td><img src="algoritmus/try.png"/></td>
         </tr></table>
         
         <p>
         Pokus�m se algoritmus popsat slovn�. Jedn� se o 2 vno�en� cykly. Na za��tku je nastaveno
         n�jak� �e�en� a po��te�n� teplota, kter� se ve venkovn�m cyklu postupn� sni�uje.
         Teplotou je d�na ochota algoritmu p�ijmout hor�� �e�en�. T�m se m��e algoritmus vymanit
         z lok�ln�ho minima. Ve vnit�n�m cyklu se hled� nov� �e�en�. To je pops�no na obr�zku jako
         funkce "try". N�hodn� vygenerujeme nov� �e�en� (oproti �loze "Batoh" p�ij�m�me i �e�en�, kdy
         je formule nespln�n�). Pokud je lep�� ne� doposud nalezen�, toto �e�en� p�ijmeme.
         Pokud je hor�� tak jej p�ijmeme s ur�itou pravd�podobnost�, kter� je d�na
         aktu�ln� teplotou a velikost� zhor�en� ceny. Algoritmus kon�� pokud se teplota sn�� na �rove�
         teploty tuhnut�. Pro spr�vnou funkci algoritmu je velice d�le�it� nastavit parametry
         (po��te�n� teplota, teplota tuhnut�, rychlost tuhnut�, velikost equilibria).
         </p>
         

      <h2>Implementace</h2>
         
         
         <h3>Form�t vstupn�ho souboru</h3>
         <p>
            Form�t vstupn�ho souboru jsem p�evzal od Martina Prchl�ka. Oproti DIMACS CNF form�tu obsahuje
            v�hy prom�nn�ch a nejlep�� �e�en� dodan� BruteForcem. Popis form�tu (��dk�):
            <ul>
               <li><b>1.</b> - pr�zdn� ��dek</li>
               <li><b>2.</b> - spr�vn� �e�en�</li>
               <li><b>3.</b> - po�et_prom�nn�ch po�et_klausul� po�et_prom�nn�ch_v_klausuli</li>
               <li><b>4 - n.</b> - jednotliv� klausule (��slo je index prom�nn�, ��slov�no od 1, pokud je ��slo z�porn� znamen� negovanou prom�nnou</li>
               <li><b>n+1</b> - v�hy prom�nn�ch</li>
            </ul>
         <p>
         
         
         <h3>Zdrojov� k�dy (C#)</h3>
            <ul>
               <li><a href="source/MPFormatInputReader.cs">MPFormatInputReader.cs</a> - Reader vstupn�ho form�tu, vrac� t��du SAT</li>
               <li><a href="source/Program.cs">Program.cs</a> - obaluj�c� k�d pro experimenty, m��en� �asu a chyb</li>
               <li><a href="source/SAT.cs">SAT.cs</a> - t��da reprezentuj�c� data formule, v�hy, metody pro vyhodnocen� splnitelnosti a ohodnocen� stavu</li>
               <li><a href="source/SimAnneal.cs">SimAnneal.cs</a> - Algoritmus simulovan� ochlazov�n�, v constructoru o�ek�v� t��du SAT a parametry simulovan�ho ochlazov�n�</li>
            </ul>
            
            
         <h3>Ohodnocovac� funkce <i>getGrant</i></h3>
         <p>
            N�vrh t�to funkce je velice d�le�it� pro spr�vnou funkci cel�ho algoritmu. Jsou na n� kladeny tyto po�adavky:
            <ul>
               <li>Zv�hod�ovat prom�nn� s v�t�� v�hou</li>
               <li>Znev�hod�ovat nespln�n� klausule</li>
            </ul>
            Implementoval jsem ji tak, �e se�te v�hy prom�nn�ch nastaven�ch na <i>true</i> a od nich ode�te maxim�ln� v�hu prom�nn� pro ka�dou nespln�nou klausuli.
            Z toho vypl�v�, �e pokud je formule spln�n� vrac� sou�et vah prom�nn�ch.
         </p>
               

      <h2>Nam��en� hodnoty a v�sledky</h2>
         <p>
            Aby bylo mo�n� spr�vn� nastavit parametry algoritmu je nutn� experimentovat.
            P�i experimentech jsem sledoval graf pr�chodu stavov�m prostorem, �asovou n�ro�nost a relativn� chybu.
            Pro v�po�et relativn� chyby jsem pou�il hodnoty ze vstupn�ho souboru.
            Z d�vodu �asov� n�ro�nosti m�m k dispozici data pro 20 prom�nn�ch a 50, 75 a 90 klausul�.
            Experimenty jsou shrnuty v n�sleduj�c�ch tabulk�ch a grafech.<br/><br/>
            Pro p�ehlednost jsem pou�il tyto zkratky:<br/><br/>
            <code>
               T0 = po��te�n� teplota<br/>
               Tf = teplota tuhnut�<br/>
               dT = zm�na teploty<br/>
               equ = equilibrium<br/>
               NF = �e�en� nenalezeno<br/>
               time = �as v ms<br/>
               Avg (AvgErr) = pr�m�rn� relativn� chyba v�sledku z <b>k</b> m��en�<br/>
               Best (BestErr) = nejni��� relativn� chyba vybran� z <b>k</b> m��en�
            </code>
         </p>

         <p>Pokud nen� uvedeno jinak, jsou nastaveny toto hodnoty: T0_k = 0.1,Tf = 1,dT = 0.9, equ_k = 1.
         Algoritmus byl na ka�d� instanci spu�t�n 5x a v�sledn� relativn� chyba a �as je pr�m�r z v�sledk� algoritmu. Takto bylo postupov�no pro ka�dou instanci (50 instanc� pro ka�dou velikost probl�mu).</p>
         <p>
            Teplota tuhnut� (Tf) a rychlost zm�ny (dT) jsou zad�ny absolutn�. Naproti tomu po��te�n� teplota (T0) a velikost equilibria (equ) jsou vzta�eny k velikosti instance (m�n�me pouze multiplikativn� konstantu) takto:<br/><br/>
            <code>
               T0 = T0_k * var_count * maxW;<br/>
               equ = equ_k * var_count;<br/><br/>
            </code>
            kde <code>var_count</code> je po�et prom�nn�ch a <code>maxW</code> je maxim�ln� v�ha prom�nn�.
            
            
         </p>
         <p>M��il jsem na NTB s procesorem Centino 1.4GHz, nastaven� max Performance p�i nap�jen� z adapt�ru. Pou�it� OS: Windows XP SP2 s .net Framework 2.</p>


      <h3>Nastaven� rychlosti ochlazov�n�</h3>
      <p>
      P�i tomto experimentu jsem m�nil dT od 0.5 do 0.995
      </p>
      
      <h4>Tabulka �.1</h4>
      <table>
         <tr><th rowspan="2">dT</th><th colspan="4">50 klausul�</th><th colspan="4">75 klausul�</th><th colspan="4">90 klausul�</th></tr>
         <tr><th>NF</th><th>time</th><th>AvgErr</th><th>BestErr</th><th>NF</th><th>time</th><th>AvgErr</th><th>BestErr</th><th>NF</th><th>time</th><th>AvgErr</th><th>BestErr</th></tr>
         <tr><td>0,995</td><td>0,00%</td><td>223,7</td><td>1,70%</td><td>0,20%</td><td>0,00%</td><td>275,9</td><td>2,90%</td><td>0,20%</td><td>0,80%</td><td>316,2</td><td>1,90%</td><td>0,80%</td></tr>
         <tr><td>0,945</td><td>0,00%</td><td>17,3</td><td>4,40%</td><td>0,60%</td><td>0,40%</td><td>25,7</td><td>4,20%</td><td>1,80%</td><td>4,80%</td><td>27,7</td><td>1,50%</td><td>0,50%</td></tr>
         <tr><td>0,898</td><td>0,00%</td><td>9,5</td><td>4,20%</td><td>0,70%</td><td>2,40%</td><td>13,6</td><td>4,20%</td><td>1,70%</td><td>5,20%</td><td>14,9</td><td>1,30%</td><td>2,10%</td></tr>
         <tr><td>0,853</td><td>0,00%</td><td>6,3</td><td>6,50%</td><td>1,40%</td><td>1,60%</td><td>8,7</td><td>4,40%</td><td>3,70%</td><td>7,20%</td><td>10,1</td><td>1,30%</td><td>0,90%</td></tr>
         <tr><td>0,81</td><td>0,00%</td><td>4,6</td><td>6,60%</td><td>2,70%</td><td>3,20%</td><td>6,4</td><td>3,80%</td><td>4,00%</td><td>9,60%</td><td>7,5</td><td>0,90%</td><td>0,70%</td></tr>
         <tr><td>0,77</td><td>0,00%</td><td>4</td><td>7,20%</td><td>3,90%</td><td>5,20%</td><td>5,2</td><td>3,30%</td><td>4,30%</td><td>10,00%</td><td>6,2</td><td>0,50%</td><td>0,80%</td></tr>
         <tr><td>0,731</td><td>0,00%</td><td>3,1</td><td>6,90%</td><td>4,30%</td><td>5,60%</td><td>4,4</td><td>3,60%</td><td>6,00%</td><td>11,60%</td><td>4,8</td><td>0,60%</td><td>3,50%</td></tr>
         <tr><td>0,695</td><td>0,40%</td><td>2,9</td><td>5,50%</td><td>4,70%</td><td>6,80%</td><td>3,8</td><td>2,80%</td><td>4,70%</td><td>12,00%</td><td>4,1</td><td>0,70%</td><td>3,00%</td></tr>
         <tr><td>0,66</td><td>0,00%</td><td>2,4</td><td>7,70%</td><td>5,00%</td><td>4,80%</td><td>3,3</td><td>3,50%</td><td>7,40%</td><td>13,20%</td><td>3,8</td><td>1,60%</td><td>6,20%</td></tr>
         <tr><td>0,627</td><td>0,40%</td><td>2,3</td><td>9,00%</td><td>4,00%</td><td>6,80%</td><td>2,8</td><td>3,40%</td><td>5,90%</td><td>13,20%</td><td>3,4</td><td>0,90%</td><td>3,30%</td></tr>
         <tr><td>0,596</td><td>0,80%</td><td>2</td><td>5,30%</td><td>4,30%</td><td>8,00%</td><td>3</td><td>3,30%</td><td>4,70%</td><td>14,40%</td><td>3,2</td><td>0,10%</td><td>0,60%</td></tr>
         <tr><td>0,566</td><td>2,80%</td><td>1,9</td><td>5,90%</td><td>3,30%</td><td>9,20%</td><td>2,8</td><td>2,90%</td><td>6,90%</td><td>12,00%</td><td>2,8</td><td>0,90%</td><td>2,30%</td></tr>
         <tr><td>0,538</td><td>2,00%</td><td>1,6</td><td>8,90%</td><td>8,00%</td><td>10,80%</td><td>2,3</td><td>2,70%</td><td>6,10%</td><td>12,80%</td><td>2,4</td><td>0,50%</td><td>2,20%</td></tr>
         <tr><td>0,511</td><td>1,60%</td><td>1,5</td><td>10,10%</td><td>10,60%</td><td>10,80%</td><td>1,9</td><td>2,30%</td><td>9,00%</td><td>12,40%</td><td>2,4</td><td>1,00%</td><td>3,00%</td></tr>
      </table>
      
      <h4>Grafy �.1</h4>
      <table>
         <tr>
            <td><a href="grafy/Err-dt.html">relativn� chyba</a></td>
            <td><a href="grafy/nf-dt.html"># nenalezen�ch stav�</a></td>
            <td><a href="grafy/t-dt.html">�asov� slo�itost</a></td>
            <td><a href="grafy/pruchod-dt.html">pr�chod stavov�m prostorem</a></td>
         </tr>
         <tr>
            <td><a href="grafy/Err-dt.html"><img src="grafy/small/Err-dt.png"></a></td>
            <td><a href="grafy/nf-dt.html"><img src="grafy/small/nf-dt.png"></a></td>
            <td><a href="grafy/t-dt.html"><img src="grafy/small/t-dt.png"></a></td>
            <td><a href="grafy/pruchod-dt.html"><img src="grafy/small/pruchod_dt090.png"></a></td>
         </tr>
      </table>

      
      <h3>Nastaven� velikosti equilibria</h3>

      P�i tomto experimentu jsem m�nil equ_k od 1 do 10. Pouze p�ipomenu, �e velikost
      equilibria je vzta�en� k velikosti instance a to takto: <code>equ = equ_k * var_count</code>.

      <h4>Tabulka �.2</h4>
      <table>
         <tr><th rowspan="2">equ_k</th><th colspan="4">50 klausul�</th><th colspan="4">75 klausul�</th><th colspan="4">90 klausul�</th></tr>
         <tr><th>NF</th><th>time</th><th>AvgErr</th><th>BestErr</th><th>NF</th><th>time</th><th>AvgErr</th><th>BestErr</th><th>NF</th><th>time</th><th>AvgErr</th><th>BestErr</th></tr>
         <tr><td>1</td><td>0,00%</td><td>10,9</td><td>4,60%</td><td>0,50%</td><td>1,20%</td><td>13,1</td><td>3,30%</td><td>1,70%</td><td>6,00%</td><td>15,2</td><td>1,50%</td><td>0,90%</td></tr>
         <tr><td>2</td><td>0,00%</td><td>19,5</td><td>3,40%</td><td>0,20%</td><td>0,00%</td><td>26,2</td><td>4,50%</td><td>3,00%</td><td>2,40%</td><td>30,1</td><td>2,00%</td><td>2,10%</td></tr>
         <tr><td>3</td><td>0,00%</td><td>28,9</td><td>2,90%</td><td>0,20%</td><td>0,00%</td><td>39,2</td><td>4,50%</td><td>1,30%</td><td>2,40%</td><td>45</td><td>2,30%</td><td>1,40%</td></tr>
         <tr><td>4</td><td>0,00%</td><td>38,8</td><td>3,10%</td><td>0,40%</td><td>0,00%</td><td>52,3</td><td>3,90%</td><td>1,10%</td><td>2,80%</td><td>60</td><td>1,80%</td><td>0,50%</td></tr>
         <tr><td>5</td><td>0,00%</td><td>47,8</td><td>2,80%</td><td>0,30%</td><td>0,40%</td><td>65,1</td><td>3,40%</td><td>0,70%</td><td>3,20%</td><td>76,9</td><td>1,90%</td><td>1,10%</td></tr>
         <tr><td>6</td><td>0,00%</td><td>57,4</td><td>2,00%</td><td>0,10%</td><td>0,00%</td><td>79,8</td><td>3,30%</td><td>1,10%</td><td>0,80%</td><td>90,6</td><td>1,80%</td><td>1,30%</td></tr>
         <tr><td>7</td><td>0,00%</td><td>68,9</td><td>2,30%</td><td>0,20%</td><td>0,40%</td><td>93,1</td><td>3,60%</td><td>0,20%</td><td>1,20%</td><td>105,4</td><td>2,30%</td><td>0,80%</td></tr>
         <tr><td>8</td><td>0,00%</td><td>77,5</td><td>2,40%</td><td>0,40%</td><td>0,00%</td><td>104,8</td><td>3,50%</td><td>1,20%</td><td>1,20%</td><td>122,3</td><td>2,30%</td><td>0,70%</td></tr>
         <tr><td>9</td><td>0,00%</td><td>85,7</td><td>2,20%</td><td>0,30%</td><td>0,00%</td><td>119,6</td><td>3,50%</td><td>0,70%</td><td>2,80%</td><td>139,4</td><td>1,90%</td><td>0,50%</td></tr>
         <tr><td>10</td><td>0,00%</td><td>97,9</td><td>2,00%</td><td>0,20%</td><td>0,40%</td><td>132,6</td><td>3,40%</td><td>0,80%</td><td>2,40%</td><td>157,5</td><td>2,00%</td><td>0,50%</td></tr>
      </table>
      
      <h4>Grafy �.2</h4>
      <table>
         <tr>
            <td><a href="grafy/Err-equ.html">relativn� chyba</a></td>
            <td><a href="grafy/nf-equ.html"># nenalezen�ch stav�</a></td>
            <td><a href="grafy/pruchod-equ.html">pr�chod stavov�m prostorem</a></td>
         </tr>
         <tr>
            <td><a href="grafy/Err-equ.html"><img src="grafy/small/Err-equ.png"></a></td>
            <td><a href="grafy/nf-equ.html"><img src="grafy/small/nf-equ.png"></a></td>
            <td><a href="grafy/pruchod-equ.html"><img src="grafy/small/pruchod_equ2.png"></a></td>
         </tr>
      </table>


      <h3>Nastaven� teploty tuhnut�</h3>

      P�i tomto experimentu jsem m�nil Tf od 1 do 10.
       
      <h4>Tabulka �.3</h4>
      <table>
         <tr><th rowspan="2">Tf</th><th colspan="4">50 klausul�</th><th colspan="4">75 klausul�</th><th colspan="4">90 klausul�</th></tr>
         <tr><th>NF</th><th>time</th><th>AvgErr</th><th>BestErr</th><th>NF</th><th>time</th><th>AvgErr</th><th>BestErr</th><th>NF</th><th>time</th><th>AvgErr</th><th>BestErr</th></tr>
         <tr><td>1</td><td>0,00%</td><td>10,5</td><td>4,50%</td><td>0,90%</td><td>1,20%</td><td>13,6</td><td>4,00%</td><td>1,30%</td><td>5,20%</td><td>15,8</td><td>1,50%</td><td>1,20%</td></tr>
         <tr><td>2</td><td>0,00%</td><td>8,6</td><td>5,60%</td><td>1,00%</td><td>1,60%</td><td>13</td><td>3,30%</td><td>2,30%</td><td>5,20%</td><td>13,3</td><td>1,80%</td><td>1,70%</td></tr>
         <tr><td>3</td><td>0,00%</td><td>7,7</td><td>5,50%</td><td>1,00%</td><td>1,20%</td><td>11,9</td><td>3,20%</td><td>2,30%</td><td>6,00%</td><td>12,6</td><td>1,20%</td><td>1,40%</td></tr>
         <tr><td>4</td><td>0,00%</td><td>7</td><td>5,00%</td><td>0,90%</td><td>1,20%</td><td>10,4</td><td>3,50%</td><td>0,70%</td><td>6,00%</td><td>11,7</td><td>1,40%</td><td>1,20%</td></tr>
         <tr><td>5</td><td>0,00%</td><td>7,2</td><td>4,00%</td><td>0,50%</td><td>1,60%</td><td>9,8</td><td>5,00%</td><td>2,30%</td><td>5,20%</td><td>11,3</td><td>1,20%</td><td>0,40%</td></tr>
         <tr><td>6</td><td>0,00%</td><td>6,5</td><td>4,60%</td><td>1,00%</td><td>2,00%</td><td>8,9</td><td>4,00%</td><td>1,90%</td><td>6,00%</td><td>10,3</td><td>1,70%</td><td>3,70%</td></tr>
         <tr><td>7</td><td>0,40%</td><td>6</td><td>5,40%</td><td>2,40%</td><td>3,20%</td><td>9,4</td><td>3,30%</td><td>0,70%</td><td>5,60%</td><td>9,7</td><td>1,30%</td><td>1,00%</td></tr>
         <tr><td>8</td><td>0,00%</td><td>5,6</td><td>7,10%</td><td>1,40%</td><td>2,00%</td><td>8,2</td><td>4,70%</td><td>2,30%</td><td>5,20%</td><td>9,4</td><td>1,30%</td><td>1,50%</td></tr>
         <tr><td>9</td><td>0,00%</td><td>5,8</td><td>6,30%</td><td>1,90%</td><td>1,20%</td><td>8,5</td><td>4,70%</td><td>2,90%</td><td>5,60%</td><td>9,3</td><td>1,30%</td><td>1,20%</td></tr>
         <tr><td>10</td><td>0,40%</td><td>5,6</td><td>6,60%</td><td>1,40%</td><td>2,00%</td><td>8,4</td><td>3,80%</td><td>1,50%</td><td>5,60%</td><td>9,2</td><td>1,40%</td><td>3,20%</td></tr>
      </table>
      
      <h4>Graf �.3: Z�vislost relativn� chyby na teplot� tuhnut�</h4>
      <p><img src="grafy/Err-tf.png"/></p>


      <h3>Nastaven� po��te�n� teploty</h3>
      
      P�i tomto experimentu jsem m�nil T0 od 0,1 do 1. Pouze p�ipomenu, �e velikost
      po��te�n� teploty je vzta�ena k velikosti instance a to takto: <code>T0 = T0_k * var_count * maxW</code>.

      <h4>Tabulka �.4</h4>
      <table>
         <tr><th rowspan="2">T0_k</th><th colspan="4">50 klausul�</th><th colspan="4">75 klausul�</th><th colspan="4">90 klausul�</th></tr>
         <tr><th>NF</th><th>time</th><th>AvgErr</th><th>BestErr</th><th>NF</th><th>time</th><th>AvgErr</th><th>BestErr</th><th>NF</th><th>time</th><th>AvgErr</th><th>BestErr</th></tr>
         <tr><td>0,1</td><td>0,00%</td><td>9,9</td><td>4,90%</td><td>1,00%</td><td>1,20%</td><td>13</td><td>4,40%</td><td>2,00%</td><td>4,40%</td><td>15,1</td><td>1,30%</td><td>0,80%</td></tr>
         <tr><td>0,2</td><td>0,00%</td><td>11</td><td>4,80%</td><td>0,40%</td><td>0,40%</td><td>15,1</td><td>3,60%</td><td>1,30%</td><td>5,60%</td><td>17</td><td>1,10%</td><td>2,80%</td></tr>
         <tr><td>0,3</td><td>0,00%</td><td>11,3</td><td>5,40%</td><td>0,60%</td><td>0,80%</td><td>15,9</td><td>4,10%</td><td>1,80%</td><td>4,00%</td><td>18,1</td><td>1,50%</td><td>1,70%</td></tr>
         <tr><td>0,4</td><td>0,00%</td><td>11,8</td><td>4,90%</td><td>1,00%</td><td>1,20%</td><td>16,4</td><td>3,70%</td><td>0,40%</td><td>6,40%</td><td>19,3</td><td>1,50%</td><td>1,00%</td></tr>
         <tr><td>0,5</td><td>0,00%</td><td>11,9</td><td>5,00%</td><td>1,20%</td><td>2,80%</td><td>16,3</td><td>3,90%</td><td>1,70%</td><td>6,00%</td><td>19,5</td><td>1,40%</td><td>1,00%</td></tr>
         <tr><td>0,6</td><td>0,00%</td><td>12,3</td><td>5,40%</td><td>0,60%</td><td>1,60%</td><td>17,6</td><td>4,70%</td><td>1,10%</td><td>5,60%</td><td>20,4</td><td>1,40%</td><td>0,90%</td></tr>
         <tr><td>0,7</td><td>0,00%</td><td>12,6</td><td>5,00%</td><td>0,80%</td><td>2,00%</td><td>17,9</td><td>4,00%</td><td>2,20%</td><td>4,40%</td><td>21,4</td><td>1,50%</td><td>0,70%</td></tr>
         <tr><td>0,8</td><td>0,00%</td><td>12,9</td><td>5,40%</td><td>0,80%</td><td>0,80%</td><td>17,3</td><td>4,70%</td><td>2,60%</td><td>5,20%</td><td>20,7</td><td>1,10%</td><td>1,00%</td></tr>
         <tr><td>0,9</td><td>0,00%</td><td>12,9</td><td>5,00%</td><td>0,40%</td><td>1,20%</td><td>18,1</td><td>4,10%</td><td>1,30%</td><td>5,20%</td><td>21,1</td><td>1,80%</td><td>0,70%</td></tr>
         <tr><td>1</td><td>0,00%</td><td>13,6</td><td>5,00%</td><td>0,40%</td><td>1,20%</td><td>18,5</td><td>3,90%</td><td>2,60%</td><td>5,20%</td><td>21,1</td><td>1,50%</td><td>1,80%</td></tr>
      </table>

      <h4>Grafy �.4</h4>
      <table>
         <tr>
            <td><a href="grafy/Err-t0.html">relativn� chyba</a></td>
            <td><a href="grafy/nf-t0.html"># nenalezen�ch stav�</a></td>
            <td><a href="grafy/pruchod-t0.html">pr�chod stavov�m prostorem</a></td>
         </tr>
         <tr>
            <td><a href="grafy/Err-t0.html"><img src="grafy/small/Err-t0.png"></a></td>
            <td><a href="grafy/nf-t0.html"><img src="grafy/small/nf-t0.png"></a></td>
            <td><a href="grafy/pruchod-t0.html"><img src="grafy/small/pruchod_t0-05.png"></a></td>
         </tr>
      </table>


      <h3>Sledov�n� po�tu nalezen�ch �e�en� a relativn� chyby na po�tu spu�t�n� algoritmu</h3>

      Jeliko� algoritmus simulovan� ochlazov�n� je randomizovan�, d�v� p�i ka�d�m spu�t�n� jin� v�sledky.
      Pokud chceme zlep�it v�sledky, spust�me algoritmus v�cekr�t a z v�sledk� vybereme to nejlep��.
      
      <h4>Graf �.5: Z�vislost relativn� chyby na po�tu spu�t�n� algoritmu</h4>
      <p><img src="grafy/Err-repeat.png"/></p>
      
      <h4>Graf �.6: Z�vislost # nenalezen�ch �e�en� na po�tu spu�t�n� algoritmu</h4>
      <p><img src="grafy/nf-repeat.png"/></p>


      <h2>Z�v�r</h2>
         Algoritmus simulovan� ochlazov�n� je pom�rn� snadn� na implementaci.
         Jako nejd�le�it�j�� krok vid�m ve spr�vn�m navrhnut� ohodnocovac� funkce, tak aby algoritmus nutila ke spr�vn�mu �e�en�.<br/> Vzta�en� parametr� k po�tu prom�nn�ch a maxim�ln� v�ze se uk�zalo spr�vn�. Pro instance, kter� byly k dispozici (20/50, 20/75, 20/91 - po�et prom�nn�ch / po�et klausul�), se uk�zalo toto nastaven� jako optim�ln�:
<ul>
   <li>Po��te�n� teplota T0 = 0,1 * var_count * maxW;</li>
   <li>Teplota tuhnut� Tf = 1</li>
   <li>Rychlost ochlazov�n� dT = 0,9</li>
   <li>Velikost equilibria equ = 1 * var_count;</li>
</ul>

   Pro tyto hodnoty se nepoda�ilo nal�zt �e�en� maxim�ln� ve 14% p��pad� a chyba oproti nejlep��mu �e�en� dodan�ho ze vstupu byla 2%. K t�mto v�sledk�m velkou m�rou p�isp�v� opakov�n� v�po�tu ka�d� instance 5x.<br/>
         
         U tohoto algoritmu (stejn� jako u dynamick�ho programov�n�) dop�edu zn�me po�et iterac� cyklu, tud� m��eme odhadnout �asovou n�ro�nost. Proto u n�kter�ch m��en� chyb� �asov� z�vislost (ch�pav� �ten�� ji z popisu algoritmu snadno odvod�).
         
         
         D�le z proveden�ch experiment� m��eme ud�lat tyto z�v�ry:
         <ul>
         <li>��m bl�e dT k 1 t�m men�� relativn� chyba, ale v�t�� �asov� n�ro�nost.</li>
         <li>Po��te�n� teplotu je vhodn� volit jako funkci velikosti instance.</li>
         <li>Teplotu tuhnut� je nejlep�� "vykoukat" z graf� pro z�vislost ceny na po�tu prozkouman�ch stav�. Pokud se cena nem�n�, m�lo by doj�t k zamrazen�. To m��eme p��mo o�et�it v programu a nemus�me tento parametr nastavovat.</li>
         <li>Velikost equilibria, ��m v�t�� t�m men�� relativn� chyba, ale v�t�� �asov� n�ro�nost.</li>
         <li>Zv��en� po�tu opakov�n� v�po�tu jedn� instance zvy�uje procento nalezen�ch �e�en� a sni�uje chybu v�sledku. �asovou n�ro�nost line�rn� zvy�uje.</li>
         <li>Pro v�t�� po�et klausul� je obt�n�j�� nal�zt �e�en�</li>
         </ul>


   </div>


<script src="/archive/lightbox.js"></script>
</body>
</html>
